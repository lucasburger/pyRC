rewrite echo_view and state_view to handle non uni-size reservoirs